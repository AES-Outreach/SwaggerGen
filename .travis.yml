dist: xenial
branches:
  only:
      - master
      - develop
language: java
jdk:
  - openjdk11
node_js: "10"
cache:
    directories:
        - $HOME/.m2
jobs:
  include:
    - stage: compile
      before_script:
        - cd swaggen
      script:
        - npm install -g redoc-cli
        - mvn clean install #plugin
        - mvn javadoc:javadoc
        - cd ../sample-project 
        - mvn clean install #sample-project
        - cd ..
        - sh generate_docs.sh
stages:
  - name: compile
notifications:
  slack: swaggen:Ykqb64SVX8bgvp5ZDi9KcJ3A
