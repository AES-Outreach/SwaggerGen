#safelist
branches:
  only:
      - master
      - develop
language: java
jdk:
  - openjdk11
node_js: "10"
cache:
    directories:
        - $HOME/.m2
jobs:
  include:
    - stage: compile
      before_script:
        - cd swaggen
      script:
        - npm install -g swagger-cli
        - mvn -U -s ../assets/settings.xml clean install
        - mvn javadoc:javadoc -s ../assets/settings.xml
    - stage: sample
      before_script:
        - cd sample-project
      script:
        - mvn clean install
stages:
  - name: compile
  - name: sample
notifications:
  slack: swaggen:Ykqb64SVX8bgvp5ZDi9KcJ3A
