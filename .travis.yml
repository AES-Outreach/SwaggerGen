dist: xenial
branches:
  only:
  - master
  - develop
language: java
jdk:
- openjdk11
node_js: '10'
cache:
  directories:
  - "$HOME/.m2"
jobs:
  include:
  - stage: compile
    before_script:
    - cd swaggen
    script:
    - npm install -g swagger-cli
    - npm install -g redoc-cli
    - mvn clean install
    - cd ../sample-project
    - mvn clean install
    - cd ..
    - sh generate_docs.sh
stages:
- name: compile
notifications:
  slack:
    secure: esyDru9a1RmRPyjkTX8raPxVlSqMiN9PxsuK1/8sv1LIGjd9MXKf7PJ1eYHcyfJkhTrxPwWccnzNs2wWYsCibABXppIY3pwsXVol4S08gBnyK9LJXHCjr10YvuzFrmhPatkU4RLZ4HKT+ZJVm0tWc+TGgttaSWOUIZfGR231nST32feqAoTC06qqVAvSVFR27c6RhCmak3jEnYLQcpz+VkPoGlZS5WZ2MyIypU0pl5lgK+k8pPWxv1IQOcHrSeOxYOHun5PdccLDjJfFzajisSle7R9fVN1rTcZwH9y4EXWfoxWxGEXvAnA+Ib36ubX7hMjvQbjkZqBzTxDFqw07nBB3ri7mvP2+arc4prH35vWNGpVxDJFupwRFty9N9+4bkCXGtsOlpGFr23+fJgANo4gxQdugfSTbx5SSSce4tZb56Mcf9JeOD1bGHLrlKDzLprEIEK0eNGTalEqFaRpPoxVYrF2lk8g/rCKcfw3MO/l1pxVZblTCgFsjudyj8/Oy+LGIlv+R0ItVKNAv5od/hlE1OjK9wpYvLy5VC28lgXg15f4qs+7RZrl9xypDgCkEjy1TNuOho2N9l7uFqdVp3/7pzt3ddr48U20CeYiux1MlUpWPGnkJsZXV5X/mNmdLXPtyScAbqnaEyrtmm7TThFhXlZ0eWvCz57eHIxBtuMw=
