dist: xenial
branches:
  only:
  - master
  - develop
language: java
jdk:
- openjdk11
node_js: '10'
cache:
  directories:
  - "$HOME/.m2"
jobs:
  include:
  - stage: compile
    before_script:
    - cd swaggen
    script:
    - npm install -g swagger-cli
    - npm install -g redoc-cli
    - mvn clean install
    - cd ../sample-project
    - mvn clean install
    - cd ..
    - sh generate_docs.sh
stages:
- name: compile
notifications:
  slack:
    secure: 4rsniBJV7lBED2ra/H/sgKNaPlzS/ZA/dr8kn+mP7NYFUpMRrSsseJL60jSj6Vcx2GlgWj11Ga6jsQsjE0kgP+UucKO2dH+MYcTeVCbi5hRzqB49Jta8h6VmVuuKdc4NZjfJnkY0klfs4c+apG3vYVxOIkxu4FTziQMgsCgqnDw6k4f7Ii6zMU23zkR5o0mgz5hU920hJZILWhhMbyARue1HwrkPqJWOszpnYzJIa4MULHNL4uoEHdeKjvV8TrYUwsaBleoMU5as/+mliXb/wNdYsvQ9tTAYg+hXMa1R7TIY2ZSvw+az2ghZ5nkrgCL410+7YtMc3v6EbDihzCbU5BXWCqbxSa3QNlkIV8yLgHsVCMeybHr6206fNVKD3PufnzOB/inHoRhDkXyE5iLhjIcwiGoINXaa4mzky8QTlpGdB11rBfbM7GXTCoIk7GOav6u8fsvH1knx/n2MLJoOA5+73YFf3fm+xi/w13qU6TniQfhG39MtXf7ileYEOOvC7ReW6k5B+QykcFetG3jYw3OV0upqnZilZe2idRHaMNX0PE6gywfWqlSers9DD5E/YVyphaF3TpJiAjYwSCTUgd1QDB+OouENCR8dUM8mL6wBVW2M4Arfa1WTJrecqdqMXewQReXCx1TkOeATYHPU05BZ5Zm/rXnucKw51tFBeXQ=
